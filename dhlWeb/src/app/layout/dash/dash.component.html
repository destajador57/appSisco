<div>
    <div>
        <div class="row card-header">
            <div class="col-6">
                <h1 class="text-muted">Consulta de Unidades</h1>
            </div>

        </div>
        <div class="card">
            <table datatable class="table row-border hover table-responsive " *ngIf="this.temp_var" style="width:100%;font-size:11px">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Fecha</th>
                        <th>Marca</th>
                        <th>SubMarca</th>
                        <th>Modelo</th>
                        <th>Vin</th>
                        <th>Evidencias</th>
                        <!-- Evidencias -->
                        <th>Comentarios</th>
                        <!-- Comentarios -->
                        <th>Accion</th>
                        <!-- Accion -->
                        <th width="350px">Cotizacion</th>
                        <!-- Cotizacion -->
                        <th>Traslado</th>
                        <!-- Traslado -->
                        <th>Oferta</th>
                        <!-- Oferta -->
                        <th>Estatus</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="text-center" *ngFor="let ColumDash of resultadoDash; let i = index;">
                        <td>{{ ColumDash.id }}</td>
                        <td>{{ ColumDash.fecha | date:'MM/dd/yyyy' }}</td>
                        <td>{{ ColumDash.marca }}</td>
                        <td>{{ ColumDash.submarca }}</td>
                        <td>{{ ColumDash.modelo }}</td>
                        <td>{{ ColumDash.vin }}</td>
                        <td style="text-align: center">
                            <button type="button" class="btn btn-success btn-circle " title="Evidencias">
                                <i class="fa fa-folder-open" aria-hidden="true"></i>
                            </button>
                        </td>
                        <td>
                            <div style="text-align: center">
                                <button type="button" class="btn btn-info btn-circle" (click)="open(content, ColumDash.id,ColumDash.vin)">
                                    <i class="fa fa-plus" aria-hidden="true"></i>
                                </button>
                            </div>
                            <!-- <div style="width:200px">
                                <textarea title="Comentarios" class="form-control form-control-sm"></textarea>
                            </div> -->
                        </td>
                        <td>
                            <div style="width:160px">
                                <select title="Accion" class="form-control form-control-sm">
                                    <option value="0">Seleccione Accion</option>
                                    <option value="1">Enviar Al Taller</option>
                                    <option value="2">Oferta de Compra</option>
                                </select>
                            </div>
                        </td>
                        <td>
                            <div style="width:120px;">
                                <button type="button" title="Editar Cotizacion" class="btn btn-info btn-circle" (click)="deletePromocion(Dpromo.po_IdPromocion);">
                                    <i class="fa fa-pencil" aria-hidden="true"></i>
                                </button>

                                <button type="button" title="Aprobar Cotizacion" class="btn btn-success btn-circle" (click)="deletePromocion(Dpromo.po_IdPromocion);">
                                    <i class="fa fa-check" aria-hidden="true"></i>
                                </button>

                                <button type="button" title="Anular Cotizacion" class="btn btn-danger btn-circle" (click)="deletePromocion(Dpromo.po_IdPromocion);">
                                    <i class="fa fa-ban" aria-hidden="true"></i>
                                </button>
                            </div>
                        </td>
                        <td>
                            <div style="width:100px;">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="exampleRadios" id="Chk_DHL" value="DHL" checked>
                                    <label class="form-check-label" for="exampleRadios1">
                                        DHL
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="exampleRadios" id="Chk_TParts" value="TotalParts">
                                    <label class="form-check-label" for="exampleRadios2">
                                        Total Parts
                                    </label>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div style="width:200px; padding: 2px" class="row col-xs-12">
                                <input type="text" style="width:100px;" width="40px" id="txt_Oferta" name="oferta" title="oferta" class="form-control form-control-sm col-xs-6">

                                <button type="button" title="Aprobar Oferta" class="btn btn-success btn-circle col-xs-6" (click)="deletePromocion(Dpromo.po_IdPromocion);">
                                    <i class="fa fa-check" aria-hidden="true"></i>
                                </button>

                                <button type="button" title="Anular Oferta" class="btn btn-danger btn-circle col-xs-6" (click)="deletePromocion(Dpromo.po_IdPromocion);">
                                    <i class="fa fa-ban" aria-hidden="true"></i>
                                </button>
                            </div>
                        </td>
                        <td>
                            <div style="width:180px">
                                <select title="Estatus" class="form-control form-control-sm">
                                    <option value="0">Sin Evidencia</option>
                                    <option value="1">Evidencia Capturada</option>
                                    <option value="2">En Reparaci√≥n</option>
                                    <option value="3">Ofertada</option>
                                    <option value="4">Comprada</option>
                                    <option value="5">Entregada BANORTE</option>
                                </select>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <!-- M O D A L E S -->
    <!-- Inicia el modal  Insert -->
    <ng-template #content let-c="close" let-d="dismiss">
        <div class="modal-header">
            <h4 class="modal-title text-muted">Comentarios</h4>
        </div>
        <div class="modal-body">
            <!-- <form [formGroup]="form" (ngSubmit)="saveDash()"> -->
                <div class="row div-space">
                    <div class="col">
                        <h6 class="text-muted">Chat </h6>
                        <table datatable class="table row-border hover table-responsive " *ngIf="this.temp_var" style="width:100%;font-size:11px">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Usuario</th>
                                    <th>Fecha</th>
                                    <th>Comentario</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="text-center" *ngFor="let ColumComent of resultadoComentariosById; let i = index;">
                                    <td>{{ ColumDash.UnidadId }}</td>
                                    <td>{{ ColumDash.UnidadId }}</td>
                                    <td>{{ ColumDash.fecha | date:'MM/dd/yyyy h:mm a' }}</td>
                                    <td>{{ ColumDash.Comentario }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="row div-space">
                    <div class="col">mh
                        <h6 class="text-muted">Agregar Comentario</h6>
                        <textarea class="col form-control form-control-sm" rows="4" cols="50" name="idUnidad" [(ngModel)]="idUnidad">
                                                                        </textarea>
                        <!-- <textarea class="col form-control form-control-sm" rows="4" cols="50" name="descripcion" [(ngModel)]="idDash">
                                                                                        </textarea> -->
                    </div>
                </div>
                <div class="modal-footer" style="margin: 20px">
                    <button class="btn btn-outline-success" type="submit" [disabled]="!form.valid">Agregar</button>
                    <p></p>
                    <button type="button" class="btn btn-outline-danger" (click)="c('Close click');">Cerrar</button>
                </div>
            <!-- </form> -->
        </div>
    </ng-template>

    <!-- Inicia el modal Update-->
    <!-- <ng-template #contentU let-c="close" let-d="dismiss">
        <div class="modal-header">
            <h4 class="modal-title text-muted">Actualizar promocion</h4>
        </div>
        <div class="modal-body">
            <div class="row div-space">
                <div class="col space-6">
                    <h6 class="text-muted">Tipo Promocion </h6>
                    <select class="form-control form-control-sm" name="inputTipoPromociones" [(ngModel)]="selectedTPromocion">
                        <option value="0">Seleccione un tipo de promocion</option>
                        <option *ngFor = "let TPromo of resultadoTPromocion;" [value]="TPromo.tip_id" > {{ TPromo.tip_nombre }} </option>
                    </select>
                </div>
                <div class="col">
                    <h6 class="text-muted">Empresa </h6>
                    <select class="form-control form-control-sm" name="inputEmpresa" 
                        [(ngModel)]="selectedEmpresa"
                        (ngModelChange)="onChangeEmpresa($event)">
                        <option value="0">Seleccione una empresa</option>
                        <option *ngFor = "let empresa of resultadoEmpresas;" [value]="empresa.em_IdEmpresa" > {{ empresa.em_Descripcion }} </option>
                    </select>
                </div>
            </div>
            
            <div class="row div-space">
                <div class="col">
                    <h6 class="text-muted">Sucursal</h6>
                    <select class="form-control form-control-sm" name="inputSucursal" [(ngModel)]="selectedSucursal">
                        <option value="0">Seleccione una sucursal</option>
                        <option *ngFor="let sucursal of resultadoSucursal;" [value]="sucursal.su_IdSucursal">{{sucursal.su_NombreCto}}</option>
                    </select>
                </div>
                <div class="col">
                    <h6 class="text-muted">Marca</h6>
                    <select class="form-control form-control-sm" name="inputMarca" [(ngModel)]="selectedMarca">
                        <option value="0">Seleccione una marca</option>
                        <option *ngFor = "let marca of resultadoMarca;" [value]="marca.ma_IdMarca"> {{ marca.ma_NombreCto }} </option>
                    </select>
                </div>
            </div>
        
            <div class="row div-space">
                <div class="col">
                        <h6 class="text-muted">Descripcion</h6>
                        <textarea class="col form-control form-control-sm" rows="4" cols="50" name="descripcion" [(ngModel)]="descripcion">
                        </textarea>
                </div>
            </div>
            <br>
            <div class="col">
                <img src="{{ModalImg}}" width="100%">
            </div>
            <div class="row div-space">
                <form [formGroup]="formUpdate">
                    <div class="col">
                        <h6 class="text-muted">Imagen</h6>
                        <label class="btn btn-secondary btn-file">Browse
                            <input name="file" type="file" (change)="onFileChangeUp($event)" formControlName="RealImgUpdate">
                            <input type="hidden" name="fileHidden" formControlName="imageInputUpdate"/>
                            <input type="hidden" name="fileHidden" formControlName="promoIdUp"/>
                            <input type="hidden" name="fileHidden" formControlName="typeImgUp"/>
                        </label>
                    </div>
                </form>    
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-outline-success" (click)="updatePromocion(idPromocion)">Actualizar</button>
            <button type="button" class="btn btn-outline-danger" (click)="c('Close click');">Close</button>
        </div>
    </ng-template> -->

    <!-- Inicia el modal VerImagen-->
    <!-- <ng-template #contentImg let-c="close" let-d="dismiss">
        <div class="modal-header">
            <h4 class="modal-title text-muted">{{ModalDesc}}</h4>
        </div>
        <div class="modal-body">
            <div class="row div-space text-center">
                <div class="col space-12">
                    <img src="{{ModalImg}}" width="100%">
                    {{ModalImg}}
                </div>
            </div>    
        </div>
        <div class="row div-space">
            <form [formGroup]="formUpdate">
                <div class="col">
                    <h6 class="text-muted">Imagen</h6>
                    <label class="btn btn-secondary btn-file">Browse
                        <input name="file" type="file" (change)="onFileChangeUp($event)" formControlName="RealImgUpdate">
                        <input type="hidden" name="fileHidden" formControlName="imageInputUpdate"/>
                        <input type="hidden" name="fileHidden" formControlName="promoIdUp"/>
                    </label>
                </div>
            </form>    
        </div>
        <div class="modal-footer">
            <button class="btn btn-outline-success" type="button" (click)="updateImage(ModalIdPromo)">Actualizar</button>
            <button type="button" class="btn btn-outline-danger" (click)="c('Close click');">Close</button>
        </div>
    </ng-template> -->
</div>